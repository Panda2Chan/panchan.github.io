(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,78901,(n,e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"warnOnce",{enumerable:!0,get:function(){return r}});let r=n=>{}},90053,(n,e,t)=>{e.exports=n.r(15049)},259,n=>{"use strict";n.s(["default",()=>r]);var e=n.i(32280),t=n.i(90053);let r=n=>{let{divider:r=!0}=n,o=(0,t.useRouter)();return(0,e.jsxs)("div",{className:"my-4",children:[r&&(0,e.jsx)("hr",{className:"my-4 border-gray-300"}),(0,e.jsx)("span",{className:"z-10 mt-5 cursor-pointer  hover:underline underline-offset-4",onClick:()=>{o.push("/")},children:"⬅️ 返回主页"})]})}},19346,(n,e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useMergedRef",{enumerable:!0,get:function(){return o}});let r=n.r(35980);function o(n,e){let t=(0,r.useRef)(null),o=(0,r.useRef)(null);return(0,r.useCallback)(r=>{if(null===r){let n=t.current;n&&(t.current=null,n());let e=o.current;e&&(o.current=null,e())}else n&&(t.current=u(n,r)),e&&(o.current=u(e,r))},[n,e])}function u(n,e){if("function"!=typeof n)return n.current=e,()=>{n.current=null};{let t=n(e);return"function"==typeof t?t:()=>n(null)}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},99692,(n,e,t)=>{"use strict";function r(n){let e={};for(let[t,r]of n.entries()){let n=e[t];void 0===n?e[t]=r:Array.isArray(n)?n.push(r):e[t]=[n,r]}return e}function o(n){return"string"==typeof n?n:("number"!=typeof n||isNaN(n))&&"boolean"!=typeof n?"":String(n)}function u(n){let e=new URLSearchParams;for(let[t,r]of Object.entries(n))if(Array.isArray(r))for(let n of r)e.append(t,o(n));else e.set(t,o(r));return e}function a(n){for(var e=arguments.length,t=Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];for(let e of t){for(let t of e.keys())n.delete(t);for(let[t,r]of e.entries())n.append(t,r)}return n}Object.defineProperty(t,"__esModule",{value:!0}),!function(n,e){for(var t in e)Object.defineProperty(n,t,{enumerable:!0,get:e[t]})}(t,{assign:function(){return a},searchParamsToUrlQuery:function(){return r},urlQueryToSearchParams:function(){return u}})},49567,(n,e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(n,e){for(var t in e)Object.defineProperty(n,t,{enumerable:!0,get:e[t]})}(t,{formatUrl:function(){return u},formatWithValidation:function(){return i},urlObjectKeys:function(){return a}});let r=n.r(44066)._(n.r(99692)),o=/https?|ftp|gopher|file/;function u(n){let{auth:e,hostname:t}=n,u=n.protocol||"",a=n.pathname||"",i=n.hash||"",l=n.query||"",s=!1;e=e?encodeURIComponent(e).replace(/%3A/i,":")+"@":"",n.host?s=e+n.host:t&&(s=e+(~t.indexOf(":")?"["+t+"]":t),n.port&&(s+=":"+n.port)),l&&"object"==typeof l&&(l=String(r.urlQueryToSearchParams(l)));let c=n.search||l&&"?"+l||"";return u&&!u.endsWith(":")&&(u+=":"),n.slashes||(!u||o.test(u))&&!1!==s?(s="//"+(s||""),a&&"/"!==a[0]&&(a="/"+a)):s||(s=""),i&&"#"!==i[0]&&(i="#"+i),c&&"?"!==c[0]&&(c="?"+c),""+u+s+(a=a.replace(/[?#]/g,encodeURIComponent))+(c=c.replace("#","%23"))+i}let a=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function i(n){return u(n)}},12412,(n,e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(n,e){for(var t in e)Object.defineProperty(n,t,{enumerable:!0,get:e[t]})}(t,{DecodeError:function(){return h},MiddlewareNotFoundError:function(){return v},MissingStaticPage:function(){return b},NormalizeError:function(){return m},PageNotFoundError:function(){return g},SP:function(){return p},ST:function(){return y},WEB_VITALS:function(){return r},execOnce:function(){return o},getDisplayName:function(){return s},getLocationOrigin:function(){return i},getURL:function(){return l},isAbsoluteUrl:function(){return a},isResSent:function(){return c},loadGetInitialProps:function(){return d},normalizeRepeatedSlashes:function(){return f},stringifyError:function(){return j}});let r=["CLS","FCP","FID","INP","LCP","TTFB"];function o(n){let e,t=!1;return function(){for(var r=arguments.length,o=Array(r),u=0;u<r;u++)o[u]=arguments[u];return t||(t=!0,e=n(...o)),e}}let u=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,a=n=>u.test(n);function i(){let{protocol:n,hostname:e,port:t}=window.location;return n+"//"+e+(t?":"+t:"")}function l(){let{href:n}=window.location,e=i();return n.substring(e.length)}function s(n){return"string"==typeof n?n:n.displayName||n.name||"Unknown"}function c(n){return n.finished||n.headersSent}function f(n){let e=n.split("?");return e[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(e[1]?"?"+e.slice(1).join("?"):"")}async function d(n,e){let t=e.res||e.ctx&&e.ctx.res;if(!n.getInitialProps)return e.ctx&&e.Component?{pageProps:await d(e.Component,e.ctx)}:{};let r=await n.getInitialProps(e);if(t&&c(t))return r;if(!r)throw Object.defineProperty(Error('"'+s(n)+'.getInitialProps()" should resolve to an object. But found "'+r+'" instead.'),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return r}let p="undefined"!=typeof performance,y=p&&["mark","measure","getEntriesByName"].every(n=>"function"==typeof performance[n]);class h extends Error{}class m extends Error{}class g extends Error{constructor(n){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message="Cannot find module for page: "+n}}class b extends Error{constructor(n,e){super(),this.message="Failed to load static file for page: "+n+" "+e}}class v extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function j(n){return JSON.stringify({message:n.message,stack:n.stack})}},36004,(n,e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isLocalURL",{enumerable:!0,get:function(){return u}});let r=n.r(12412),o=n.r(39993);function u(n){if(!(0,r.isAbsoluteUrl)(n))return!0;try{let e=(0,r.getLocationOrigin)(),t=new URL(n,e);return t.origin===e&&(0,o.hasBasePath)(t.pathname)}catch(n){return!1}}},99554,(n,e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"errorOnce",{enumerable:!0,get:function(){return r}});let r=n=>{}},98913,(n,e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(n,e){for(var t in e)Object.defineProperty(n,t,{enumerable:!0,get:e[t]})}(t,{default:function(){return m},useLinkStatus:function(){return b}});let r=n.r(44066),o=n.r(32280),u=r._(n.r(35980)),a=n.r(49567),i=n.r(24760),l=n.r(19346),s=n.r(12412),c=n.r(40629);n.r(78901);let f=n.r(93636),d=n.r(36004),p=n.r(77194);n.r(99554);let y=n.r(41730);function h(n){return"string"==typeof n?n:(0,a.formatUrl)(n)}function m(n){var e;let t,r,a,[m,b]=(0,u.useOptimistic)(f.IDLE_LINK_STATUS),v=(0,u.useRef)(null),{href:j,as:P,children:O,prefetch:T=null,passHref:x,replace:_,shallow:k,scroll:C,onClick:E,onMouseEnter:N,onTouchStart:R,legacyBehavior:S=!1,onNavigate:w,ref:A,unstable_dynamicOnHover:M,...K}=n;t=O,S&&("string"==typeof t||"number"==typeof t)&&(t=(0,o.jsx)("a",{children:t}));let I=u.default.useContext(i.AppRouterContext),L=!1!==T,U=!1!==T?null===(e=T)||"auto"===e?y.FetchStrategy.PPR:y.FetchStrategy.Full:y.FetchStrategy.PPR,{href:D,as:F}=u.default.useMemo(()=>{let n=h(j);return{href:n,as:P?h(P):n}},[j,P]);S&&(r=u.default.Children.only(t));let B=S?r&&"object"==typeof r&&r.ref:A,V=u.default.useCallback(n=>(null!==I&&(v.current=(0,f.mountLinkInstance)(n,D,I,U,L,b)),()=>{v.current&&((0,f.unmountLinkForCurrentNavigation)(v.current),v.current=null),(0,f.unmountPrefetchableInstance)(n)}),[L,D,I,U,b]),z={ref:(0,l.useMergedRef)(V,B),onClick(n){S||"function"!=typeof E||E(n),S&&r.props&&"function"==typeof r.props.onClick&&r.props.onClick(n),I&&(n.defaultPrevented||function(n,e,t,r,o,a,i){let{nodeName:l}=n.currentTarget;if(!("A"===l.toUpperCase()&&function(n){let e=n.currentTarget.getAttribute("target");return e&&"_self"!==e||n.metaKey||n.ctrlKey||n.shiftKey||n.altKey||n.nativeEvent&&2===n.nativeEvent.which}(n)||n.currentTarget.hasAttribute("download"))){if(!(0,d.isLocalURL)(e)){o&&(n.preventDefault(),location.replace(e));return}if(n.preventDefault(),i){let n=!1;if(i({preventDefault:()=>{n=!0}}),n)return}u.default.startTransition(()=>{(0,p.dispatchNavigateAction)(t||e,o?"replace":"push",null==a||a,r.current)})}}(n,D,F,v,_,C,w))},onMouseEnter(n){S||"function"!=typeof N||N(n),S&&r.props&&"function"==typeof r.props.onMouseEnter&&r.props.onMouseEnter(n),I&&L&&(0,f.onNavigationIntent)(n.currentTarget,!0===M)},onTouchStart:function(n){S||"function"!=typeof R||R(n),S&&r.props&&"function"==typeof r.props.onTouchStart&&r.props.onTouchStart(n),I&&L&&(0,f.onNavigationIntent)(n.currentTarget,!0===M)}};return(0,s.isAbsoluteUrl)(F)?z.href=F:S&&!x&&("a"!==r.type||"href"in r.props)||(z.href=(0,c.addBasePath)(F)),a=S?u.default.cloneElement(r,z):(0,o.jsx)("a",{...K,...z,children:t}),(0,o.jsx)(g.Provider,{value:m,children:a})}let g=(0,u.createContext)(f.IDLE_LINK_STATUS),b=()=>(0,u.useContext)(g);("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},24414,n=>{"use strict";n.s(["default",()=>u],24414);var e=n.i(32280),t=n.i(259);let r=[{title:"十月的代码与风",date:"2025-10-22",location:"四川 成都",markdown:"\n十月的成都，天光渐短，风有了凉意。  \n坐在屏幕前敲代码的时候，窗外的云一层层飘过去，  \n像被注释掉的念头。  \n\n最近常常在思考：  \n代码之外，什么才算“结构合理”的生活？  \n\n缓存、异步、复用、依赖注入，  \n这些词在脑子里转个不停，  \n仿佛也能拿来描述日常。  \n生活的状态和项目一样，  \n有时候要重构，有时候只需要热重载。  \n\n前端写久了，人会变得敏感。  \n对边距像素的误差、对逻辑分支的冗余、  \n对节奏的卡顿——甚至对自己的一点疲惫。  \n偶尔也会有报错，  \n某种程度上，这些报错也像生活里突然蹦出来的小插曲：  \n不致命，却提醒你别太快。  \n\n生活和代码，总有交叉的部分。  \n比如装修时画施工图，才发现现实世界的“布局”比 CSS 难多了；  \n又比如构思小程序时，界面与逻辑的关系，  \n像人与人之间的沟通——看似简单，其实全靠细节。  \n\n慢慢地，我喜欢上这种状态：  \n在理性和感性之间切换。  \n白天拆逻辑、写函数，  \n晚上收拾思绪、写一点文字。  \n代码让我理解秩序，文字让我容纳混乱。  \n\n十月的风从窗缝吹进来，  \n桌面上散着纸笔和键盘的光。  \n生活没有被完全编译成功，  \n但一切都在运行中。\n  "},{title:"深度与广度",date:"2025-11-03",location:"四川 乐山",markdown:"\n  十一月的下午，咖啡凉了一半，屏幕上还停着几个浏览器标签：一个是 Vue 3 源码，一个是 React Fiber 机制，还有一篇掘金上关于微前端的文章。  \n看着它们，我突然在想一个老生常谈的问题：**技术深度重要，还是技术广度更重要？**\n\n以前我很执着“深度”。  \n钻 Vue 响应式、追踪虚拟 DOM 的每一处调度逻辑，甚至为了搞懂 diff 策略反复看源码。那种啃下来后豁然开朗的感觉，确实爽。  \n\n但项目做多了、团队协作久了、业务复杂度叠加之后，我慢慢意识到：  \n**光有深度，不够。**  \n\n你能搞懂 Vue 的编译优化，但老板问你：  \n> 为什么我们 SEO 这么差？  \n\n> 为什么构建这么慢？  \n\n> 为什么部署经常挂？\n\n如果你只会回答“我负责前端页面”，那你永远只是一个“写页面的前端”。  \n\n反过来，如果只追广度——React、Vue、Node、Go、微前端、CI/CD 都懂一点，却每样都停留在“会用不会优化”的程度，那最终也只是一个**技术百科式工具人**。\n\n所以，答案其实很简单：\n\n> **深度是你的根骨，广度是你的气血。只有根深，气才足；气足，才扛得住复杂世界的风浪。**\n\n我现在更认同一种路径：\n\n1. **核心栈深耕到底**  \n   Vue / React + 工程体系  \n   ——源码、性能、架构、渲染机制全吃透\n\n2. **关键方向横向拓展**  \n   微前端、Node/Go、CI/CD、DevOps、数据库、性能优化、架构设计\n\n3. **每次扩展一个新领域，都能带回来对原领域的理解升级**\n\n像打游戏，不是乱点天赋，而是先把一条路线拉满，再点旁枝，最终构建一个**成体系的技术版图**。\n\n写到这里，窗外的风吹过来，带点凉意。  \n我突然觉得技术这条路跟人生一样：\n\n- 深度让你有 **立足之地**\n- 广度让你有 **看清全局的能力**\n\n真正强的人，是**既能写出极致的组件系统，也能搭起完整的中台架构**；  \n既能 discuss Fiber scheduling，也能谈业务 ROI 和增长逻辑。\n\n技术不是堆技能，而是**拓宽认知、打磨思维、提升解决问题能力**。\n\n愿我们最终不是“写代码的人”，  \n而是**能理解系统、构建系统、优化系统的人**。  \n\n咖啡凉透了。继续去看源码了。毕竟“深度”这玩意，就像夜路——越走越静，也越走越有意思。\n\n  "},{title:"《乌合之众》摘录",date:"2025-11-07",location:"四川 成都",markdown:"\n> 一个群体要是失去实事求是的能力，让真实的东西被跟他毫无关系的幻觉所代替。\n 并不需要很多人，几个人聚在一起就构成了群体。\n那时，即使是杰出的学者，面对专业以外的东西，他们也会表现出群体的所有特征。\n每个人的观察能力和批评精神都消失了。\n\n> 在群体中蠢人，白痴或妒忌者不会再感到自己平庸和无能，而是产生了一种强烈，短暂却巨大的力量。\n很不幸，这种夸大往往会让群体态度粗暴。\n\n> 尤其是在拉丁群体当中，专横与贬狭达到了很高的程度，甚至完全摧毁了在昂格鲁萨克逊人当中如此强大的个人独立精神。\n拉丁群体只看重自己所属团体的集体独立，这种独立的特征便是要用粗暴手段让意见者立即接受他们的信仰。\n\n> 群体屈从于权威，却不怎么为善良动心，对他们来说，善良是一种弱点。\n\n### 当个人放弃理性、沉溺于群体情绪时，人性中的智慧、独立与善良都会被吞没。\n  "},{title:"2025下半年投资效益记录",date:"2026-01-13",location:"四川 成都",markdown:"\n2025下半年通过参与Binance Alpha 和 Booster 项目，获得了一定的收益，估算约为1400u。\n\n期间收益不止于此，主要亏损在**网格合约机器人**、**批量迷你合约仓**等。\n    \n现持有**Apple**、**Tesla**代币化股票，长期看好。\n\n> 身处AI时代的洪流，却不知力量该往何处使；像站在奔涌的算法瀑布前，手里握着旧时代的船桨，既兴奋又惶恐——怕稍一迟疑就被卷走，更怕奋力划动却偏离了心的方向。\n  "},{title:"缓存击穿 & 缓存雪崩 深度解析与实战方案",date:"2026-02-13",location:"四川 乐山",markdown:'\n在高并发系统架构中，缓存（通常基于 Redis）承担着削峰填谷、降低数据库压力的重要职责。但若设计不当，缓存体系反而可能成为系统故障的触发点。本文围绕 **缓存击穿（Cache Breakdown）** 与 **缓存雪崩（Cache Avalanche）** 两类典型问题进行系统说明。\n\n---\n\n# 一、缓存击穿（Cache Breakdown）\n\n## 1. 定义\n\n缓存击穿指：\n\n> 某个高并发访问的热点 Key 在过期瞬间失效，大量请求直接穿透缓存访问数据库，导致数据库压力瞬时暴涨。\n\n核心特征：\n\n-   单个 Key\n-   高并发访问\n-   瞬时失效\n\n---\n\n## 2. 发生过程\n\n时间线示意：\n\n- **T0**: 热点 Key 过期\n- **T1**: 大量请求同时访问\n- **T2**: 缓存未命中\n- **T3**: 所有请求直达数据库\n- **T4**: 数据库连接池耗尽或响应变慢\n\n---\n\n## 3. 常见场景\n\n-   秒杀商品详情\n-   热门文章\n-   爆款商品库存\n-   实时榜单数据\n\n---\n\n## 4. 解决思路\n\n### 4.1 分布式锁控制并发\n\n核心思想：\n\n只允许一个线程查询数据库并回填缓存，其余线程等待或快速失败。\n\n示例（Node.js 伪代码）：\n\n```js\nasync function getData(key) {\n  let data = await redis.get(key)\n  if(data) return data\n\n  const lock = await acquireLock(key)\n  if(lock) {\n    data = await db.query(key)\n    await redis.set(key, data, { EX: 60 })\n    releaseLock(key)\n    return data\n  } else {\n    await sleep(50)\n    return getData(key)\n  }\n}\n```\n\n---\n\n### 4.2 逻辑过期时间\n\n将过期时间写入 value 内部：\n\n```json\n{\n  "data": {},\n  "expireTime": 1700000000\n}\n```\n\n当检测到逻辑过期时：\n\n-   立即返回旧数据\n-   异步刷新缓存\n\n---\n\n### 4.3 热点数据永不过期\n\n-   不设置物理过期时间\n-   通过定时任务主动刷新\n\n---\n\n# 二、缓存雪崩（Cache Avalanche）\n\n## 1. 定义\n\n缓存雪崩指：\n\n> 大量缓存 Key 在同一时间集中失效，导致请求全部穿透至数据库，引发数据库崩溃。\n\n区别于缓存击穿：\n\n| 问题类型 | 影响范围 |\n| :--- | :--- |\n| 缓存击穿 | 单个热点 Key |\n| 缓存雪崩 | 大量 Key 同时失效 |\n\n---\n\n## 2. 发生原因\n\n1.  批量 Key 使用相同过期时间\n2.  Redis 实例宕机\n3.  大规模缓存主动删除\n4.  业务发布导致缓存整体刷新\n\n---\n\n## 3. 发生过程\n\n- **T0**: 大量 Key 同时过期\n- **T1**: 请求全部 Miss\n- **T2**: 数据库承压\n- **T3**: 响应变慢\n- **T4**: 服务线程堆积\n- **T5**: 系统整体不可用\n\n---\n\n## 4. 解决方案\n\n### 4.1 过期时间随机化\n\n避免同一时间失效：\n\n```js\nconst ttl = 60 + Math.floor(Math.random() * 30)\nredis.set(key, value, { EX: ttl })\n```\n\n---\n\n### 4.2 多级缓存架构\n\n```\n客户端\n  ↓\n本地缓存（Memory）\n  ↓\nRedis\n  ↓\n数据库\n```\n\n即便 Redis 故障，本地缓存仍可部分兜底。\n\n---\n\n### 4.3 限流与熔断\n\n在服务层增加：\n\n-   QPS 限流\n-   熔断降级\n-   默认兜底数据\n\n---\n\n# 三、击穿与雪崩对比总结\n\n| 维度 | 缓存击穿 | 缓存雪崩 |\n| :--- | :--- | :--- |\n| 影响范围 | 单个热点 Key | 大量 Key |\n| 触发条件 | 热点 Key 过期 | 大量 Key 同时过期 |\n| 危害程度 | 高 | 极高 |\n| 核心治理 | 加锁控制并发 | 过期随机化 + 架构兜底 |\n\n---\n\n# 四、总结\n\n缓存体系的核心目标是削峰填谷，而非成为单点风险。\n\n在系统设计阶段应重点考虑：\n\n-   热点 Key 管理\n-   过期时间分布策略\n-   多级缓存架构\n-   服务限流与降级策略\n\n只有在架构层面系统化设计缓存策略，才能真正发挥缓存性能价值，而不是成为系统雪崩的触发器。\n'}].reverse();var o=n.i(98913);function u(){return(0,e.jsxs)("div",{children:[r.map((n,t)=>(0,e.jsxs)("div",{className:"mb-6 border-b pb-4",children:[(0,e.jsx)("h2",{className:"text-xl font-semibold mb-2",children:(0,e.jsx)(o.default,{href:"/blog/detail/".concat(t),className:"no-underline underline-offset-5 hover:underline",children:n.title})}),(0,e.jsx)("p",{className:"text-gray-600 text-sm mb-2",children:n.date}),(0,e.jsx)("p",{className:"text-gray-800 line-clamp-2 overflow-hidden",children:n.markdown})]},t)),(0,e.jsx)(t.default,{divider:!1})]})}}]);